# 実験レポート: 地理情報クラスタリング粒度の最適化

## 実験概要
- **目的**: 交通事故予測における地理的特徴量（エリアID）の最適な粒度（クラスタ数）を探索する。
- **対象モデル**: LightGBM
- **比較設定**: `n_clusters` = [100, 500, 1000, 2000]

## 📊 実験結果

| クラスタ数 (n) | AUC (平均) | Recall (平均) | 評価 |
| :--- | :--- | :--- | :--- |
| **100** | **0.8870** | **0.7486** | 🏆 **Best** |
| 500 | 0.8806 | 0.7480 | |
| 1000 | 0.8767 | 0.7331 | |
| 2000 | 0.8776 | 0.7266 | |

※ AUCが高いほど識別性能が良い。Recallが高いほど死亡事故を見逃さない。

### 考察
1. **「大まかなエリア」の方が有効**: クラスタ数が少ない（n=100）方が、AUC・Recall共にはっきりと高い結果となりました。
2. **過学習の示唆**: クラスタ数を増やす（エリアを細かくする）と性能が低下傾向にあります。これは、特定の狭い地点に過剰に適合してしまい、未知のデータに対する汎化性能が落ちている可能性があります。
3. **実用的な意味**: 500〜2000のような細かいメッシュよりも、ある程度広い範囲（n=100）でのリスク傾向を学習させる方が、事故予測モデルとしては有効であることが分かりました。

## 📂 生成ファイル
- `summary.csv`: 全実験データのサマリー
- `auc_comparison.png`: クラスタ数とAUCの関係グラフ
- `recall_comparison.png`: クラスタ数とRecallの関係グラフ

## ✅ 推奨アクション
今後のモデル学習では、エリアIDのクラスタ数を **`n_clusters=100`** に設定することを推奨します。

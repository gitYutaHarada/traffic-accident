# 実験レポート: 路線コードの道路種別化とモデル精度

## 実験概要
- **目的**: カーディナリティの高い（種類が多い）`路線コード` を、15種類の `road_type`（道路種別）に集約し、汎化性能の向上を検証する。
- **データ**: `honhyo_clean_no_leakage.csv` (Leakageなし)
- **特徴量**: 
    - `road_type` (15分類: 国道, 県道, 高速など) ※元の `路線コード` は削除
    - エリアID (n=50)
    - `interaction_type_speed` (車種A×速度A)

## 📊 実験結果比較 (No Leakage)

| モデル特徴 | AUC | Recall | 評価 |
| :--- | :--- | :--- | :--- |
| 路線コードそのまま | 0.8739 | 0.7416 | |
| **道路種別へ集約 (今回)** | **0.8788** | **0.7489** | 🏆 **改善 (+0.005)** |

### 考察
1. **最高スコアを更新**: Leakage（事故類型）を含まない正当な条件下で、検証した中で最も高いスコア（AUC 0.8788）を記録しました。
2. **汎化性能の向上**: 数千種類ある個別の路線コードを覚えるのではなく、「高速道路」「市町村道」といった構造的な種別を学習することで、未知のデータに対する予測能力が高まったと考えられます。
3. **Recall 約75%**: 死亡事故の4件に3件を検知できる水準に達しており、実用モデルとして非常に有望です。

## 📂 生成ファイル
- `results/experiment_road_type/metrics_mean.csv`
- `results/experiment_road_type/feature_importance.png`

## ✅ 結論
`路線コード` をそのまま使うのではなく、**道路種別（Road Type）に変換して使用する手法を採用すべき**です。
これに「エリアID(n=50)」と「車種×速度」を組み合わせたのが、現時点での**Best Model**となります。

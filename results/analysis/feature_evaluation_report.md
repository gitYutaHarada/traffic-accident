# 特徴量エンジニアリング評価レポート

現在実施されている特徴量の除外処理について、データ分析および機械学習（予測モデル構築）の観点から評価を行いました。

## 結論
**「事後情報（データリーク）」による除外判断は、大部分において極めて適切ですが、一部「事前情報（車両スペック）」まで過剰に除外されている可能性があります。**

特に「エアバッグの装備」は、事故発生前から決まっている車両の性能（スペック）であり、生存率に大きく寄与する重要な特徴量です。これを含めることでモデルの精度向上が期待できます。

## 各カラムの詳細評価

変数を以下の3つのタイミングに分類して評価します。

1.  **事前情報 (Pre-Crash)**: 事故発生前から確定している情報（天気、場所、車両性能など）。 **安全に使用可能**。
2.  **事故形態 (Crash Mechanism)**: 事故が「どのように起きたか」を表す情報。 **目的によっては使用可能**。
3.  **事後情報 (Post-Crash / Result)**: 事故の結果として確定する情報（死者数、怪我の程度）。 **予測には使用禁止（データリーク）**。

### 1. 適切に除外されているカラム（事後情報・リーク）
以下のカラムは、予測対象（重症度・死者数）と直接相関する「結果」そのものであり、これらを使うと「答えを見て答えを当てる」状態になります。除外は **正解** です。

*   **人身損傷程度（当事者A・B）**: 結果そのもの。
*   **車両の損壊程度（当事者A・B）**: 事故の激しさ（結果）を表す。
*   **負傷者数**: 結果そのもの。
*   **事故内容**: 「死亡事故」「負傷事故」などの区分が含まれる場合があり、目的変数（死者数）と直結するため除外すべき。

### 2. 再考の余地があるカラム（事前情報・車両スペック）
以下のカラムは、通常「車両に備わっている機能」を指します。

*   **エアバッグの装備（当事者A・B）**
*   **サイドエアバッグの装備（当事者A・B）**

**評価**:
データの内容が「装備の有無（あり/なし）」であれば、これは **事前情報（スペック）** です。
エアバッグがある車とない車で、同じような事故でも死亡率が変わるかをモデルに学習させるべき重要な要素です。
*※ただし、もしデータ値が「作動した/作動しなかった」という意味で記録されている場合は事後情報になりますが、通常「装備」はスペックを指します。データ値が `1` (装備あり) / `2` (装備なし) 等であれば採用すべきです。*

### 3. 目的に応じて判断すべきカラム（事故形態）
*   **車両の衝突部位（当事者A・B）**

**評価**:
これは「どこがぶつかったか（正面衝突、側面衝突など）」を表す **事故形態（メカニズム）** です。
*   **「事故が起きた後の死亡確率」を予測したい場合**: **使用すべき** です。正面衝突か追突かで死亡率は大きく異なるため、説明変数として有効です。
*   **「事故そのものの発生リスク」を予測したい場合**: 事故が起きる前には分からないため除外します。

今回は「交通事故原因分析（死亡・重症予測）」と思われるため、**含めることを推奨** します。「どのようなぶつかり方（衝突部位）だと死亡事故になりやすいか」は重要な分析インサイトになります。

## 推奨するアクション

1.  **「エアバッグの装備」「サイドエアバッグの装備」を復帰させる**
    *   これらは安全装置としての効果を測定する上で重要です。
2.  **「車両の衝突部位」を復帰させる**
    *   事故のメカニズム（どんなぶつかり方が危険か）を考慮させるためです。
3.  **その他の除外（損傷程度など）は維持する**
    *   これらは適切に処理されています。

もしご希望であれば、これらのカラムを復帰させた状態でのモデル学習と重要度（Feature Importance）の確認を行う比較実験のコードを作成可能です。

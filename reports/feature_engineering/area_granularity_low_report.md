# 実験レポート: 地理情報クラスタリング粒度の最適化 (低粒度領域)

## 実験概要
- **目的**: 交通事故予測における地理的特徴量（エリアID）の最適な粒度（クラスタ数）を、**500以下の低粒度領域**で詳細に探索する。
- **対象モデル**: LightGBM
- **比較設定**: `n_clusters` = [10, 50, 100, 200, 300, 400]

## 📊 実験結果

| クラスタ数 (n) | AUC (平均) | Recall (平均) | 評価 |
| :--- | :--- | :--- | :--- |
| 10 | 0.8872 | 0.7517 | 優秀 |
| **50** | **0.8876** | **0.7567** | 🏆 **Best** |
| 100 | 0.8870 | 0.7486 | |
| 200 | 0.8852 | 0.7484 | |
| 300 | 0.8823 | 0.7343 | |
| 400 | 0.8809 | 0.7419 | |

※ AUCが高いほど識別性能が良い。Recallが高いほど死亡事故を見逃さない。

### 考察
1. **最適値は `n=50`**: 今回の実験範囲では、エリア数50の設定がAUC・Recall共に最高のパフォーマンスを示しました。これは、おおよそ**都道府県の数（47）に近い粒度**であり、地域ごとの大まかな交通事故リスク特性をモデルが効果的に学習できていることを示唆しています。
2. **低粒度の有効性**: `n=10` でも `n=100` と同等以上の高い精度が出ており、細かい地点情報よりも「広域的なエリア特性」が重要であることが再確認されました。
3. **過学習の境界**: `n=200` を超えるとスコアが低下し始めるため、エリアを細分化しすぎると過学習のリスクが高まることが確認できました。

## 📂 生成ファイル
- `summary.csv`: 全実験データのサマリー
- `auc_comparison.png`: クラスタ数とAUCの関係グラフ
- `recall_comparison.png`: クラスタ数とRecallの関係グラフ

## ✅ 推奨アクション
今後のモデル学習では、エリアIDのクラスタ数を **`n_clusters=50`** に設定することを推奨します。

# 多交互作用検証実行手順

## 概要
`honhyo_clean_road_type.csv`を使用して多交互作用検証を実行します。

## 実行方法

### 方法1: バッチファイルを使用（推奨）
```cmd
run_interaction_road_type.bat
```

### 方法2: 直接Pythonコマンドを使用
```cmd
python scripts/feature_engineering/run_interaction_analysis.py --data-path data/processed/honhyo_clean_road_type.csv --output-dir results/interaction_features_road_type
```

## パイプライン処理内容

このコマンドは以下の3ステップを自動実行します:

1. **交互作用特徴量の生成**: 全特徴量ペアの交互作用を生成
2. **LightGBMで重要度評価**: 各交互作用特徴量のPR-AUC向上度を評価（数時間かかる可能性あり）
3. **ランキングレポート生成**: 結果をMarkdown/グラフで可視化

## 出力結果

結果は `results/interaction_features_road_type/` に保存されます:
- ランキングCSV（全体版とTop100版）
- Markdownレポート
- 可視化グラフ（棒グラフ、ヒートマップ、分布プロット）

## 注意事項
- ⚠️ ステップ2は非常に時間がかかります（データ量によっては数時間〜数十時間）
- 進捗はリアルタイムで表示されます
- ログファイルも自動生成されます

## 既存の交互作用特徴量を使用する場合

既に特徴量生成済みの場合は、ステップ1をスキップできます:

```cmd
python scripts/feature_engineering/run_interaction_analysis.py ^
  --data-path data/processed/honhyo_clean_road_type.csv ^
  --output-dir results/interaction_features_road_type ^
  --skip-generation ^
  --interaction-dir data/interaction_features_YYYYMMDD_HHMMSS
```

（`YYYYMMDD_HHMMSS`は実際のディレクトリ名に置き換えてください）

# honhyo_clean_with_features.csv カラム定義書

本ドキュメントは `data/processed/honhyo_clean_with_features.csv` の全カラムの説明です。  
コードブック（codebook_extracted.txt）を参考に作成。

---

## 環境・道路情報

| カラム名 | 説明 | コード例 |
|----------|------|----------|
| **ゾーン規制** | ゾーン30規制の有無 | 1=ゾーン30, 70=規制なし |
| **地形** | 市街地等の地域分類 | 1=市街地(人口集中), 2=市街地(その他), 3=非市街地 |
| **天候** | 発生時点の天候 | 1=晴, 2=曇, 3=雨, 4=霧, 5=雪 |
| **路面状態** | 発生時点の路面状態 | 1=舗装-乾燥, 2=舗装-湿潤, 3=舗装-凍結, 4=舗装-積雪, 5=非舗装 |
| **道路形状** | 発生場所の道路形状 | 1=交差点-その他, 11=単路-トンネル, 14=単路-その他, 31=交差点-環状 等 |
| **道路線形** | 発生場所の道路線形 | 1-6=カーブ・屈折(右/左×上り/下り/平坦), 7-9=直線(上り/下り/平坦), 0=一般交通の場所 |
| **車道幅員** | 発生道路の車道幅員 | 1-6=単路(幅員別), 11-19=交差点(組み合わせ), 0=一般交通の場所 |
| **中央分離帯施設等** | 中央部分の交通安全施設 | 1=中央分離帯, 2-4=中央線(種類別), 5=分離なし, 0=一般交通の場所 |
| **歩車道区分** | 歩車道の区分状況 | 1=防護柵等, 2=縁石・ブロック等, 3=路側帯, 4=区分なし |
| **信号機** | 対面信号機の作動状況 | 1=点灯-3灯式, 2=押ボタン式, 7=施設なし 等 |
| **衝突地点** | 最初の衝突地点 | 1=単路, 30=交差点内, 20=その他 |
| **road_type** | 道路種別（路線コードから派生） | 派生変数（プロジェクト独自） |

---

## 時間情報

| カラム名 | 説明 | コード例 |
|----------|------|----------|
| **昼夜** | 発生時点の昼夜 | 11=昼-明, 12=昼-昼, 13=昼-暮, 21=夜-暮, 22=夜-夜, 23=夜-明 |
| **曜日(発生年月日)** | 発生日の曜日 | 1=日, 2=月, 3=火, 4=水, 5=木, 6=金, 7=土 |
| **祝日(発生年月日)** | 発生日の祝日区分 | 1=当日, 2=前日, 3=その他 |
| **year** ★派生 | 発生年 | 2019-2024 等 |
| **month** ★派生 | 発生月 | 1-12 |
| **day** ★派生 | 発生日 | 1-31 |
| **hour** ★派生 | 発生時間 | 0-23 |

---

## 地理情報

| カラム名 | 説明 | コード例 |
|----------|------|----------|
| **都道府県コード** | 発生した都道府県 | 10-14=北海道(方面別), 20-25=東北, 30=東京, 40-49=関東・甲信越, ... |
| **市区町村コード** | 発生した市区町村 | 総務省標準地域コード（5桁） |
| **警察署等コード** | 管轄警察署 | 各都道府県の警察署コード |
| **地点　経度（東経）** | 発生場所の経度 | 世界測地系（度分秒） |
| **地点　緯度（北緯）** | 発生場所の緯度 | 世界測地系（度分秒） |
| **地点コード** | キロポスト（直轄国道のみ） | 0=直轄国道以外 |
| **area_id** ★派生 | エリアクラスタID | KMeans(n=50)で日本全国をクラスタリング |

---

## 当事者情報

| カラム名 | 説明 | コード例 |
|----------|------|----------|
| **年齢（当事者A）** | 当事者Aの年齢層 | 1=0-24歳, 25=25-34歳, ..., 75=75歳以上, 0=不明 |
| **当事者種別（当事者A）** | 当事者Aの車両種別 | 1-5=乗用車, 11-14=貨物車, 31-36=二輪車, 51=自転車, 61=歩行者 等 |
| **用途別（当事者A）** | 当事者Aの車両用途 | 1=事業用, 31=自家用, 41=自転車, 0=対象外 |
| **速度規制（指定のみ）（当事者A）** | 当事者Aの道路の速度規制 | 1=20km/h以下, ..., 8=100km/h以下, 10=規制なし, 0=対象外 |
| **速度規制（指定のみ）（当事者B）** | 当事者Bの道路の速度規制 | 同上 |
| **一時停止規制　標識（当事者A）** | 当事者Aの一時停止標識 | 1-8=標識種類, 9=規制なし, 0=対象外 |
| **一時停止規制　標識（当事者B）** | 当事者Bの一時停止標識 | 同上 |
| **一時停止規制　表示（当事者A）** | 当事者Aの一時停止表示 | 21=表示あり, 22=表示なし, 0=対象外 |
| **一時停止規制　表示（当事者B）** | 当事者Bの一時停止表示 | 同上 |

---

## 目的変数

| カラム名 | 説明 | コード例 |
|----------|------|----------|
| **死者数** ★目的変数 | 24時間以内死亡者数 | 0=非死亡事故, 1以上=死亡事故 |

---

## 派生変数について（★マーク）

| 列名 | 派生元 | 生成方法 |
|------|--------|----------|
| `road_type` | `路線コード` | 路線コードから道路種別を分類 |
| `area_id` | `緯度`, `経度` | MiniBatchKMeans (n=50) でクラスタリング |
| `year` | `発生日時` | `.dt.year` で抽出（元の発生日時列は削除済み） |
| `month` | `発生日時` | `.dt.month` で抽出 |
| `day` | `発生日時` | `.dt.day` で抽出 |
| `hour` | `発生日時` | `.dt.hour` で抽出 |
